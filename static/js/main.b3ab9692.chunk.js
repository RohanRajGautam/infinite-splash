(this["webpackJsonpinfinite-splash"]=this["webpackJsonpinfinite-splash"]||[]).push([[0],{23:function(e,t,n){e.exports=n(40)},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(11),s=n.n(c),o=n(13),i=(n(34),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header"},"Infinite Splash!"),a.a.createElement("div",{className:"subtitle"},"Made with"," ",a.a.createElement("span",{role:"img","aria-label":"love"},"\ud83d\udc96")," ","by"," ",a.a.createElement("a",{href:"https://rohangautam.com.np/",target:"_blank",rel:"noopener noreferrer"},"Rohan Gautam")," "))}),u=n(22),l=(n(35),function(e){var t=e.children,n=e.loading,r=Object(u.a)(e,["children","loading"]);return a.a.createElement("button",Object.assign({className:"button",disabled:n},r),n?"Loading...":t)}),d={LOAD:"IMAGES_LOAD",LOAD_SUCCESS:"IMAGES_LOAD_SUCCESS",LOAD_FAIL:"IMAGES_LOAD_FAIL"},f={LOAD:"STAT_LOAD",LOAD_SUCCESS:"STAT_LOAD_SUCCESS",LOAD_FAIL:"STAT_LOAD_FAIL"},O=function(e){return{type:d.LOAD_SUCCESS,images:e}},p=function(e){return{type:f.LOAD,id:e}},m=function(e,t){return{type:f.LOAD_SUCCESS,id:e,downloads:t}},b=function(e){return{type:f.LOAD_FAILURE,id:e}},g=(n(36),n(37),function(e){var t=e.stats;return t?a.a.createElement("span",{className:"stats"},t.error&&"\ud83d\ude10 Error!",t.isLoading&&"\ud83d\ude44 Loading...",null!==t.downloads&&"\ud83d\ude0e ".concat(t.downloads)):a.a.createElement("span",{className:"stats"},"Loading...")}),L=Object(o.b)((function(e){return{isLoading:e.isLoading,images:e.images,error:e.error,imagesStats:e.imagesStats}}),(function(e){return{loadImages:function(){return e({type:d.LOAD})}}}))((function(e){var t=e.loadImages,n=e.images,c=e.isLoading,s=e.error,o=e.imagesStats;return Object(r.useEffect)((function(){t()}),[t]),a.a.createElement("div",{className:"content"},a.a.createElement("section",{className:"grid"},n.map((function(e,t){return a.a.createElement("div",{key:t,className:"item item-".concat(Math.ceil(e.height/e.width))},a.a.createElement(g,{stats:o[e.id]}),a.a.createElement("img",{src:e.urls.small,alt:e.user.username}))}))),s&&a.a.createElement("div",{className:"error"},JSON.stringify(s)),a.a.createElement(l,{onClick:function(){return!c&&t()},loading:c},"Load More"))}));var S=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(i,null),a.a.createElement(L,null))},E=(n(38),n(7)),h=n(21),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOAD:return!0;case d.LOAD_FAIL:case d.LOAD_SUCCESS:return!1;default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOAD:return null;case d.LOAD_FAIL:return t.error;case d.LOAD_SUCCESS:return null;default:return e}},_=n(18),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===d.LOAD_SUCCESS?[].concat(Object(_.a)(e),Object(_.a)(t.images)):e},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOAD_SUCCESS:return e+1;default:return e}},x=n(10),D=n(9),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.LOAD:return Object(D.a)(Object(D.a)({},e),{},Object(x.a)({},t.id,{isLoading:!0,downloads:null,error:!1}));case f.LOAD_SUCCESS:return Object(D.a)(Object(D.a)({},e),{},Object(x.a)({},t.id,{isLoading:!1,downloads:t.downloads,error:!1}));case f.LOAD_FAIL:return Object(D.a)(Object(D.a)({},e),{},Object(x.a)({},t.id,{isLoading:!1,downloads:null,error:!0}));default:return e}},k=Object(E.c)({isLoading:v,images:w,error:A,nextPage:j,imagesStats:C}),U=n(4),y=n.n(U),I=n(6),N=n(17),F="?client_id=2bSEzlBpFNe-kyUzTXyU8-J9-rcxqP7F4P0PEQW3URU",T="https://api.unsplash.com/photos/",M=function(){var e=Object(N.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(T).concat(F,"&per_page=6&page=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(N.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(T).concat(t,"/statistics/").concat(F));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=y.a.mark(J),X=y.a.mark(z),G=function(e){return e.nextPage};function J(){var e,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(I.e)(G);case 3:return e=n.sent,n.next=6,Object(I.b)(M,e);case 6:return t=n.sent,n.next=9,Object(I.d)(O(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(I.d)((r=n.t0.toString(),{type:d.LOAD_FAILURE,error:r}));case 15:case"end":return n.stop()}var r}),P,null,[[0,11]])}function z(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.g)(d.LOAD,J);case 2:case"end":return e.stop()}}),X)}var B=y.a.mark(q),V=y.a.mark(Q);function q(e){var t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<3)){r.next=18;break}return r.prev=2,r.next=5,Object(I.d)(p(e));case 5:return r.next=7,Object(I.b)(R,e);case 7:return n=r.sent,r.next=10,Object(I.d)(m(e,n.downloads.total));case 10:return r.abrupt("return",!0);case 13:r.prev=13,r.t0=r.catch(2);case 15:t++,r.next=1;break;case 18:return r.next=20,Object(I.d)(b(e));case 20:case"end":return r.stop()}}),B,null,[[2,13]])}function Q(){var e,t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(I.f)(d.LOAD_SUCCESS);case 3:e=r.sent,t=e.images,n=0;case 6:if(!(n<t.length)){r.next=12;break}return r.next=9,Object(I.c)(q,t[n].id);case 9:n++,r.next=6;break;case 12:r.next=0;break;case 14:case"end":return r.stop()}}),V)}var W=y.a.mark(H);function H(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([z(),Q()]);case 2:case"end":return e.stop()}}),W)}var K=H,Y=function(){var e=Object(h.a)(),t=Object(E.e)(k,Object(E.d)(Object(E.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return e.run(K),t}();s.a.render(a.a.createElement(o.a,{store:Y},a.a.createElement(S,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b3ab9692.chunk.js.map